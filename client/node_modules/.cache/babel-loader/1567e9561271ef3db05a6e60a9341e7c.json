{"ast":null,"code":"var _jsxFileName = \"/home/evan/Desktop/Cyber-Threat-Visualization/client/src/IPAddresses.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\n\nclass IPAddresses extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      ip_addresses: [],\n      location_data: [],\n      done_loading_data: false\n    };\n\n    this.afterDataLoaded = () => {\n      console.log(\"entered after data loaded\");\n      this.setState({\n        done_loading_data: true\n      });\n    };\n\n    this.fetchDataForIPs = async () => {\n      let all_ips = null;\n      let all_location_data = null;\n      await axios.get(\"http://localhost:5000/fetch_ips\").then(response => {\n        all_ips = response.data;\n        console.log(\"all_ips = \" + all_ips);\n        all_location_data = [];\n        all_ips.map(ip => {\n          axios.get(\"http://localhost:5000/fetch_data_by_ip/\" + ip).then(response => {\n            console.log(response.data);\n            all_location_data.push(response.data);\n          }).catch();\n        });\n      }).then(() => {\n        console.log(\"got here\");\n        this.setState({\n          ip_addresses: all_ips,\n          location_data: all_location_data\n        }, () => this.afterDataLoaded.bind(this));\n      });\n    };\n  }\n\n  componentDidMount() {\n    this.fetchDataForIPs();\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57\n      },\n      __self: this\n    }, this.state.ip_addresses.length > 0 ? React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    }, \"First IP: \", this.state.ip_addresses[0]) : React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    }), this.state.done_loading_data ? React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    }, \"First Lat/Long: \", this.state.location_data[0].latitude, \",\", this.state.location_data[0].longitude) : React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    }));\n  }\n\n}\n\nexport default IPAddresses; // call fetchIPs to get list of all 100 IP addresses\n// in .then of that axios call, map over IPs and hit backend again using fetch_data_by_ip endpoint","map":{"version":3,"sources":["/home/evan/Desktop/Cyber-Threat-Visualization/client/src/IPAddresses.js"],"names":["React","Component","axios","IPAddresses","state","ip_addresses","location_data","done_loading_data","afterDataLoaded","console","log","setState","fetchDataForIPs","all_ips","all_location_data","get","then","response","data","map","ip","push","catch","bind","componentDidMount","render","length","latitude","longitude"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,KAAP,MAAkB,OAAlB;;AAEA,MAAMC,WAAN,SAA0BF,SAA1B,CAAoC;AAAA;AAAA;AAAA,SAChCG,KADgC,GACxB;AACJC,MAAAA,YAAY,EAAE,EADV;AAEJC,MAAAA,aAAa,EAAE,EAFX;AAGJC,MAAAA,iBAAiB,EAAE;AAHf,KADwB;;AAAA,SAWhCC,eAXgC,GAWd,MAAM;AACpBC,MAAAA,OAAO,CAACC,GAAR,CAAY,2BAAZ;AACA,WAAKC,QAAL,CAAc;AACVJ,QAAAA,iBAAiB,EAAE;AADT,OAAd;AAGH,KAhB+B;;AAAA,SAkBhCK,eAlBgC,GAkBd,YAAY;AAC1B,UAAIC,OAAO,GAAG,IAAd;AACA,UAAIC,iBAAiB,GAAG,IAAxB;AACA,YAAMZ,KAAK,CACNa,GADC,CACG,iCADH,EAGDC,IAHC,CAGIC,QAAQ,IAAI;AACdJ,QAAAA,OAAO,GAAGI,QAAQ,CAACC,IAAnB;AACAT,QAAAA,OAAO,CAACC,GAAR,CAAY,eAAeG,OAA3B;AAEAC,QAAAA,iBAAiB,GAAG,EAApB;AACAD,QAAAA,OAAO,CAACM,GAAR,CAAYC,EAAE,IAAI;AACdlB,UAAAA,KAAK,CACAa,GADL,CACS,4CAA4CK,EADrD,EAEKJ,IAFL,CAEUC,QAAQ,IAAI;AACdR,YAAAA,OAAO,CAACC,GAAR,CAAYO,QAAQ,CAACC,IAArB;AACAJ,YAAAA,iBAAiB,CAACO,IAAlB,CAAuBJ,QAAQ,CAACC,IAAhC;AAEH,WANL,EAOKI,KAPL;AAQH,SATD;AAYH,OApBC,EAqBDN,IArBC,CAqBI,MAAM;AACRP,QAAAA,OAAO,CAACC,GAAR,CAAY,UAAZ;AACA,aAAKC,QAAL,CAAc;AACVN,UAAAA,YAAY,EAAEQ,OADJ;AAEVP,UAAAA,aAAa,EAAEQ;AAFL,SAAd,EAGG,MAAM,KAAKN,eAAL,CAAqBe,IAArB,CAA0B,IAA1B,CAHT;AAIH,OA3BC,CAAN;AA4BH,KAjD+B;AAAA;;AAOhCC,EAAAA,iBAAiB,GAAG;AAChB,SAAKZ,eAAL;AACH;;AA0CDa,EAAAA,MAAM,GAAG;AACL,WACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACK,KAAKrB,KAAL,CAAWC,YAAX,CAAwBqB,MAAxB,GAAiC,CAAjC,GAAqC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAAc,KAAKtB,KAAL,CAAWC,YAAX,CAAwB,CAAxB,CAAd,CAArC,GAAqF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAD1F,EAEK,KAAKD,KAAL,CAAWG,iBAAX,GACG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2BACqB,KAAKH,KAAL,CAAWE,aAAX,CAAyB,CAAzB,EAA4BqB,QADjD,OAEK,KAAKvB,KAAL,CAAWE,aAAX,CAAyB,CAAzB,EAA4BsB,SAFjC,CADH,GAKK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAPV,CADJ;AAYH;;AAhE+B;;AAmEpC,eAAezB,WAAf,C,CAGA;AACA","sourcesContent":["import React, { Component } from 'react';\nimport axios from 'axios'\n\nclass IPAddresses extends Component {\n    state = {\n        ip_addresses: [],\n        location_data: [],\n        done_loading_data: false\n    };\n\n    componentDidMount() {\n        this.fetchDataForIPs();\n    }\n\n    afterDataLoaded = () => {\n        console.log(\"entered after data loaded\")\n        this.setState({\n            done_loading_data: true\n        })\n    }\n\n    fetchDataForIPs = async () => {\n        let all_ips = null\n        let all_location_data = null\n        await axios\n            .get(\"http://localhost:5000/fetch_ips\")\n\n            .then(response => {\n                all_ips = response.data\n                console.log(\"all_ips = \" + all_ips);\n\n                all_location_data = []\n                all_ips.map(ip => {\n                    axios\n                        .get(\"http://localhost:5000/fetch_data_by_ip/\" + ip)\n                        .then(response => {\n                            console.log(response.data)\n                            all_location_data.push(response.data)\n\n                        })\n                        .catch()\n                })\n\n\n            })\n            .then(() => {\n                console.log(\"got here\")\n                this.setState({\n                    ip_addresses: all_ips,\n                    location_data: all_location_data\n                }, () => this.afterDataLoaded.bind(this))\n            })\n    }\n\n    render() {\n        return (\n            <div>\n                {this.state.ip_addresses.length > 0 ? <p>First IP: {this.state.ip_addresses[0]}</p> : <div/>}\n                {this.state.done_loading_data ?\n                    <p>\n                        First Lat/Long: {this.state.location_data[0].latitude},\n                        {this.state.location_data[0].longitude}\n                    </p>\n                    : <div/>}\n\n            </div>\n        );\n    }\n}\n\nexport default IPAddresses;\n\n\n// call fetchIPs to get list of all 100 IP addresses\n// in .then of that axios call, map over IPs and hit backend again using fetch_data_by_ip endpoint\n"]},"metadata":{},"sourceType":"module"}