{"ast":null,"code":"var _jsxFileName = \"/home/evan/Desktop/Cyber-Threat-Visualization/client/src/IPAddresses.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\n\nclass IPAddresses extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      ip_addresses: null,\n      location_data: null\n    };\n\n    this.fetchIPs = async () => {\n      await axios.get(\"http://localhost:5000/fetch_ips\").then(response => {\n        let all_ips = response.data;\n        console.log(\"all_ips = \" + all_ips);\n        let all_location_data = [];\n        all_ips.map(ip => {\n          axios.get(\"http://localhost:5000/fetch_data_by_ip/\" + ip).then(response => {\n            console.log(response.data);\n            all_location_data.push(response.data); //console.log(JSON.stringify(response.data))\n            //let all_location_data = response.data;\n            //let first_ip = all_location_data[0].ip;\n            //let first_lat = all_location_data[0].latitude;\n            //let first_long = all_location_data[0].longitude;\n            //console.log(first_ip + \" at lat \" + first_lat + \", long \" + first_long);\n          }).catch();\n        });\n        this.setState({\n          ip_addresses: all_ips,\n          location_data: all_location_data\n        });\n      });\n    };\n  }\n\n  componentDidMount() {\n    this.fetchIPs(); //this.getLocationData();\n  }\n\n  // getLocationData = async () => {\n  //     await axios\n  //         .get(\"http://localhost:5000/fetch_data_by_ip\")\n  //         .then(response => {\n  //             console.log(JSON.stringify(response.data))\n  //             let all_location_data = response.data;\n  //             //let first_ip = all_location_data[0].ip;\n  //             //let first_lat = all_location_data[0].latitude;\n  //             //let first_long = all_location_data[0].longitude;\n  //\n  //             //console.log(first_ip + \" at lat \" + first_lat + \", long \" + first_long);\n  //         })\n  //         .catch()\n  //\n  // }\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }, this.state.ip_addresses ? React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    }, \"First IP: \", this.state.ip_addresses[0]) : React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    }));\n  }\n\n}\n\nexport default IPAddresses; // call fetchIPs to get list of all 100 IP addresses\n// in .then of that axios call, map over IPs and hit backend again using fetch_data_by_ip endpoint","map":{"version":3,"sources":["/home/evan/Desktop/Cyber-Threat-Visualization/client/src/IPAddresses.js"],"names":["React","Component","axios","IPAddresses","state","ip_addresses","location_data","fetchIPs","get","then","response","all_ips","data","console","log","all_location_data","map","ip","push","catch","setState","componentDidMount","render"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,KAAP,MAAkB,OAAlB;;AAEA,MAAMC,WAAN,SAA0BF,SAA1B,CAAoC;AAAA;AAAA;AAAA,SAChCG,KADgC,GACxB;AACJC,MAAAA,YAAY,EAAE,IADV;AAEJC,MAAAA,aAAa,EAAE;AAFX,KADwB;;AAAA,SAWhCC,QAXgC,GAWrB,YAAY;AACnB,YAAML,KAAK,CACNM,GADC,CACG,iCADH,EAGDC,IAHC,CAGIC,QAAQ,IAAI;AACd,YAAIC,OAAO,GAAGD,QAAQ,CAACE,IAAvB;AACAC,QAAAA,OAAO,CAACC,GAAR,CAAY,eAAeH,OAA3B;AAEA,YAAII,iBAAiB,GAAG,EAAxB;AACAJ,QAAAA,OAAO,CAACK,GAAR,CAAYC,EAAE,IAAI;AACdf,UAAAA,KAAK,CACAM,GADL,CACS,4CAA4CS,EADrD,EAEKR,IAFL,CAEUC,QAAQ,IAAI;AACdG,YAAAA,OAAO,CAACC,GAAR,CAAYJ,QAAQ,CAACE,IAArB;AACAG,YAAAA,iBAAiB,CAACG,IAAlB,CAAuBR,QAAQ,CAACE,IAAhC,EAFc,CAKd;AACA;AACA;AACA;AACA;AAEA;AACH,WAdL,EAeKO,KAfL;AAgBH,SAjBD;AAmBA,aAAKC,QAAL,CAAc;AACVf,UAAAA,YAAY,EAAEM,OADJ;AAEVL,UAAAA,aAAa,EAAES;AAFL,SAAd;AAIH,OA/BC,CAAN;AAgCH,KA5C+B;AAAA;;AAMhCM,EAAAA,iBAAiB,GAAG;AAChB,SAAKd,QAAL,GADgB,CAEhB;AACH;;AAqCD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEAe,EAAAA,MAAM,GAAG;AACL,WACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACK,KAAKlB,KAAL,CAAWC,YAAX,GAA0B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAAc,KAAKD,KAAL,CAAWC,YAAX,CAAwB,CAAxB,CAAd,CAA1B,GAA0E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAD/E,CADJ;AAKH;;AApE+B;;AAuEpC,eAAeF,WAAf,C,CAGA;AACA","sourcesContent":["import React, { Component } from 'react';\nimport axios from 'axios'\n\nclass IPAddresses extends Component {\n    state = {\n        ip_addresses: null,\n        location_data: null\n    };\n\n    componentDidMount() {\n        this.fetchIPs();\n        //this.getLocationData();\n    }\n\n    fetchIPs = async () => {\n        await axios\n            .get(\"http://localhost:5000/fetch_ips\")\n\n            .then(response => {\n                let all_ips = response.data\n                console.log(\"all_ips = \" + all_ips);\n\n                let all_location_data = []\n                all_ips.map(ip => {\n                    axios\n                        .get(\"http://localhost:5000/fetch_data_by_ip/\" + ip)\n                        .then(response => {\n                            console.log(response.data)\n                            all_location_data.push(response.data)\n\n\n                            //console.log(JSON.stringify(response.data))\n                            //let all_location_data = response.data;\n                            //let first_ip = all_location_data[0].ip;\n                            //let first_lat = all_location_data[0].latitude;\n                            //let first_long = all_location_data[0].longitude;\n\n                            //console.log(first_ip + \" at lat \" + first_lat + \", long \" + first_long);\n                        })\n                        .catch()\n                })\n\n                this.setState({\n                    ip_addresses: all_ips,\n                    location_data: all_location_data\n                })\n            });\n    }\n\n    // getLocationData = async () => {\n    //     await axios\n    //         .get(\"http://localhost:5000/fetch_data_by_ip\")\n    //         .then(response => {\n    //             console.log(JSON.stringify(response.data))\n    //             let all_location_data = response.data;\n    //             //let first_ip = all_location_data[0].ip;\n    //             //let first_lat = all_location_data[0].latitude;\n    //             //let first_long = all_location_data[0].longitude;\n    //\n    //             //console.log(first_ip + \" at lat \" + first_lat + \", long \" + first_long);\n    //         })\n    //         .catch()\n    //\n    // }\n\n    render() {\n        return (\n            <div>\n                {this.state.ip_addresses ? <p>First IP: {this.state.ip_addresses[0]}</p> : <div/>}\n            </div>\n        );\n    }\n}\n\nexport default IPAddresses;\n\n\n// call fetchIPs to get list of all 100 IP addresses\n// in .then of that axios call, map over IPs and hit backend again using fetch_data_by_ip endpoint\n"]},"metadata":{},"sourceType":"module"}